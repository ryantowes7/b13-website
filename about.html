<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tentang Kami - B13 Factory</title>
  <meta name="description" content="Kenali lebih dekat B13 Factory: penyedia garment & advertising profesional dengan layanan custom apparel dan printing berkualitas.">
  <meta property="og:title" content="Tentang Kami - B13 Factory">
  <meta property="og:description" content="B13 Factory adalah penyedia garment & advertising yang siap membantu kebutuhan fashion, promosi, dan branding Anda.">
  <meta property="og:image" content="/assets/uploads/og-about.jpg">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <nav>
        <div class="logo">
          <h1>B13 FACTORY</h1>
          <span>Garment & Advertising</span>
        </div>
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="product.html">Product</a></li>
          <li><a href="article.html">Article</a></li>
          <li><a href="download.html">Download</a></li>
          <li><a href="about.html" class="active">About</a></li>
        </ul>
        <div class="menu-toggle">
          <span></span><span></span><span></span>
        </div>
      </nav>
    </div>
  </header>

  <main class="container" style="margin-top: 120px;">
    <div class="section-title">
      <h2 id="about-title">Tentang Kami</h2>
    </div>

    <div class="about-container">
      <div class="about-image" id="about-image"></div>
      <div class="about-content">
        <div id="about-description"></div>

        <div class="contact-info" id="contact-info"></div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; <span id="year"></span> B13 Factory Garment & Advertising</p>
    <p>www.b13factory.com</p>
    <div class="social" id="social-links"></div>
  </footer>

  <script src="js/script.js"></script>
  <script>
    async function loadAbout() {
      try {
        const res = await fetch("/content/about.json");
        const about = await res.json();

        // Judul
        document.getElementById("about-title").textContent = about.title;

        // Gambar
        document.getElementById("about-image").style.backgroundImage = `url('${about.image}')`;

        // Deskripsi (markdown sudah di-convert ke HTML waktu build CMS)
        document.getElementById("about-description").innerHTML = about.description;

        // Kontak info
        document.getElementById("contact-info").innerHTML = `
          <h3>Kontak Kami</h3>
          <p><i class="fas fa-map-marker-alt"></i> ${about.address}</p>
          <p><i class="fas fa-phone"></i> ${about.phone}</p>
          <p><i class="fas fa-envelope"></i> ${about.email}</p>
        `;

        // Tahun otomatis
        document.getElementById("year").textContent = new Date().getFullYear();

        // Social links dari home.json
        const socialRes = await fetch("/content/home.json");
        const homeData = await socialRes.json();
        const social = document.getElementById("social-links");
        social.innerHTML = homeData.social.map(s => `<a href="${s.url}" target="_blank"><i class="${s.icon}"></i></a>`).join("");

      } catch (err) {
        console.error("Gagal load about:", err);
      }
    }
    loadAbout();
  </script>
</body>
</html>
